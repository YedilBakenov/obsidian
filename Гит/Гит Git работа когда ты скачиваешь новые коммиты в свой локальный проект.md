#Scala 
#work 
main/master - это главная ветка

git pull - сразу подтягиваются изменения с главной ветке в твой локальный репозиторий, если ты еще на локальной ветке не вносил коммитов


1. git fetch , можно добавить origin- мы получаем изменения из удаленного репозитория
2. git log - просмотр изменений перед их объединением
 Пример:
 commit 1a2b3c4d5e6f7g8h9i0j
Author: Имя Автора <email@example.com>
Date:   Mon Jan 1 12:34:56 2023 +0300
Описание коммита

- **SHA-1 хэш** (идентификатор) коммита.
- **Автор** коммита.
- **Дата** коммита.
- **Сообщение коммита**.

3. git rebase -i origin/main - сохраняет изменения, переносит коммиты из одной ветки на вершину другой ветки

	Перед каждым коммитом стоит слово (по умолчанию `pick`). Вы можете изменить это слово, чтобы указать `git` действие, которое нужно выполнить с этим коммитом:

- `pick`: просто применить коммит.
- `reword`: применить коммит и изменить его сообщение.
- `edit`: применить коммит и позволить внести изменения в него.
- `squash`: объединить этот коммит с предыдущим.
- `fixup`: аналогично `squash`, но без сохранения сообщения коммита.
- `drop`: удалить коммит.

 git rebase -i origin/название чужой ветки - если залить себе чужие изменения

4.  далее заходим в файл где у нас возникли конфликты(они возникают из-за того что файл наслаиваются друг на друга и могут возникнуть ошибки)
		<<< HEAD
			какой-то код между ними 
	   >>>HEAD
	Удаляем его 

Если сделал изменения и удалил gi, то 
надо добавить тот файл, который ты изменил:

git add "*.scala" - добавляет только scala файлы

git add  core-config-fallback/src/main/resources/reference_hive.
conf (например)
и прописываем шаги 5 и 6

Если не делал изменения в спеках, то не надо их коммитить и пушить

5. git rebase --continue - 
 прописываем данный шаг пока внутри rebase не будут все цифры заполнены
	
	![[33.png]]

иногда придется прописывать git commit --allow-empty, это внутри гита будет если что указано

6. git push --force-wit-lease origin HD-4268_Change_Comment (название ветки)



rebase делать после своего коммита только

git switch HD-4206_Changed_RoutePurifier - переходи из одной ветки на другую. Но делать только после:
git checkout main

git reset core-config-fallback/src/main/resources/reference_hive.
conf - удаляем ненужный файл()

git log HD-4206_Changed_RoutePurifier  origin/HD-4206_Changed_RoutePurifier - проверка разницы между локальной веткой и удаленной


Ребейз сабмодулей:
иногда надо ребейзить сабмодули внутри сервиса и конкретной задачи:
внутри своей ветки переходить на нужный сабмодуль:
cd http-specs-service
git fetch
git rebase -i origin/main
git push --force-пше ыефе-lease origin HD-4983_Add_put_method
потом переходи в корневую ветку и далее обновляем снова сабмодули которые ты заребейзил:

git submodule update --remote --recursive http-specs-service

потом можно просто перебилдивать проект в гитлабе, если он у тебя до этого с ошибкой валился


7. После того как замерджили задачку от который ты ребейзился в .git submodules:
   ![[Снимок экрана 2024-01-18 141550.png]]

прописываем в гите:
 git submodule update --remote --recursive http-specs-services/ с указанием нужного сервиса
далее:
 git add http-specs-services/
git commit -m
git push

docker restart hivetaxi-backend-core-dev5 - через консоль деплоить контейнеры

docker ps | grep core - показывает все соответствия на слово 'core'


clear либо cntrl + L - очищение командной строки

git fetch -pP --recurse-submodules=yes - подтягивает сабмодули без команды --recursive --update 



