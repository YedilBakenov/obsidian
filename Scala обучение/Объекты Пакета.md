
#Scala 

# Объекты Пакета[](https://docs.scala-lang.org/ru/tour/package-objects.html#%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B-%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0)

У каждого пакета может существовать связанный с этим пакетом объект (package object), общий для всех членов пакета. Такой объект может быть только один. Любые выражения, содержащиеся в объекте пакета, считаются членами самого пакета.

Объекты пакета могут содержать произвольные виды выражений, а не только переменные и методы. Например, они часто используются для хранения псевдонимов типа и наборов неявных преобразований доступных всему пакету. Объекты пакета могут также наследоваться от классов и трейтов Scala.

По соглашению, исходный код объекта пакета обычно помещается в файл под названием `package.scala`.

См. пример ниже. Предположим, есть старший класс `Fruit` и три наследуемых от него объекта `Fruit` в пакете.

`gardening.fruits`:

```scala
// в файле gardening/fruits/Fruit.scala
package gardening.fruits

case class Fruit(name: String, color: String)
object Apple extends Fruit("Apple", "green")
object Plum extends Fruit("Plum", "blue")
object Banana extends Fruit("Banana", "yellow")
```

Теперь предположим, что мы хотим поместить переменную `planted` и метод `showFruit` непосредственно в пакет `gardening`. Вот как это делается:

```scala
// в файле gardening/fruits/package.scala
package gardening
package object fruits {
  val planted = List(Apple, Plum, Banana)
  def showFruit(fruit: Fruit): Unit = {
    println(s"${fruit.name}s are ${fruit.color}")
  }
}
```

Для примера, следующий объект `PrintPlanted` импортирует `planted` и `showFruit` точно так же, как с вариантом импорта класса `Fruit`, используя групповой стиль импорта пакета gardening.fruits:

```scala
// в файле PrintPlanted.scala
import gardening.fruits._
object PrintPlanted {
  def main(args: Array[String]): Unit = {
    for (fruit <- planted) {
      showFruit(fruit)
    }
  }
}
```

Объекты пакета ведут себя также, как и любые другие объекты. Это означает, что вы можете использовать наследование, при этом сразу нескольких трейтов:

```scala
package object fruits extends FruitAliases with FruitHelpers {
  // здесь располагаются вспомогательные классы и переменные
```



Объекты пакета (package objects) в Scala - это специальные объекты, которые могут содержать общие для всего пакета элементы, такие как константы, методы, типы и другие.

Представьте, что у вас есть пакет с несколькими классами, и вы хотите определить общие для этого пакета элементы, доступные из любого класса в этом пакете, без необходимости импорта. Именно для этой цели и используются объекты пакета.

Объявление объекта пакета выглядит так:


`package mypackage  package object packobj
{
val commonValue = 42    def commonMethod(): Unit = {     
println("This is a common method") 
}
}`

В этом примере мы создали объект `packobj` внутри пакета `mypackage`. Этот объект содержит общую для всего пакета константу `commonValue` и метод `commonMethod()`.

Теперь эти элементы могут быть использованы из любого класса в пакете без импорта:

`package mypackage 
class MyClass {
def useCommonElements(): Unit = {     println(packobj.commonValue)     packobj.commonMethod()  
}
}`

Объект пакета также может содержать объявления типов, импортов и другие элементы, которые доступны на уровне пакета.

Использование объектов пакета позволяет сделать общие элементы пакета более доступными и удобными для использования внутри классов этого пакета.

Вы абсолютно правы, объекты пакета в Scala создают общие элементы только для классов внутри того же пакета, в котором объявлен объект пакета. Эти элементы не будут видны из других пакетов.