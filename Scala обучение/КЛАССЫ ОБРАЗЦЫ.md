
#Scala 

Классы-образцы (case classes) в Scala - это специальный тип классов, который предназначен для удобной работы с неизменяемыми данными. Они обычно используются для создания структур данных, представления состояния и передачи информации между различными частями программы.

Вот основные характеристики классов-образцов:

1. **Неявное создание конструктора:** При объявлении case класса Scala автоматически создает конструктор, который позволяет создавать объекты без явного использования ключевого слова "new".
    
2. **Неизменяемость:** Поля case класса по умолчанию объявляются как неизменяемые (val), что означает, что после создания объекта их нельзя изменить.
    
3. **Методы equals и hashCode:** Автоматически генерируются методы `equals` и `hashCode`, что позволяет сравнивать объекты на основе их значений, а не ссылок.
    
4. **Метод toString:** Также автоматически генерируется метод `toString`, что упрощает отладку и вывод объектов.
    
5. **Поддержка декомпозиции:** Можно использовать декомпозицию (pattern matching) для извлечения данных из объектов case классов.


case class Book(isbn: String)
val frankenstein = Book("978-0486282114")


case class Message(sender: String, recipient: String, body: String) 
val message1 = Message("guillaume@quebec.ca", "jorge@catalonia.es", "Ça va ?") println(message1.sender) // печатает guillaume@quebec.ca 
message1.sender = "travis@washington.us" // эта строка не компилируется

Вы не можете переназначить `message1.sender`, потому что это `val` (т.е. константа). Возможно использовать `var` в классах образцах, но это не рекомендуется.


## Сравнение[](https://docs.scala-lang.org/ru/tour/case-classes.html#%D1%81%D1%80%D0%B0%D0%B2%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5)

Классы образцы сравниваются по структуре, а не по ссылкам:


case class Message(sender: String, recipient: String, body: String) 
val message2 = Message("jorge@catalonia.es", "guillaume@quebec.ca", "Com va?") 
val message3 = Message("jorge@catalonia.es", "guillaume@quebec.ca", "Com va?") 
val messagesAreTheSame = message2 == message3 // true

Даже если `message2` и `message3` ссылаются на разные объекты, значения каждого из них равны.

## Копирование[](https://docs.scala-lang.org/ru/tour/case-classes.html#%D0%BA%D0%BE%D0%BF%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)

Вы можете создать копию экземпляра класса образца, просто воспользовавшись методом `copy`. При этом по желанию можно изменить аргументы конструктора.

case class Message(sender: String, recipient: String, body: String)
val message4 = Message("julien@bretagne.fr", "travis@washington.us", "Me zo o komz gant ma amezeg") val message5 = message4.copy(sender = message4.recipient, recipient = "claire@bourgogne.fr") 
message5.sender // travis@washington.us message5.recipient // claire@bourgogne.fr message5.body // "Me zo o komz gant ma amezeg"


Case классы можно создавать как в области видимости верхнего уровня (вне объектов), так и внутри объектов, классов и других конструкций.

object Main { 
def main(args: Array[String]): Unit = { 
object PersonManager {
case class Person(name: String, age: Int) 
val person = Person("Alice", 25) 
println(person) 
} 
PersonManager PersonManager.main(Array.empty) 
}
}