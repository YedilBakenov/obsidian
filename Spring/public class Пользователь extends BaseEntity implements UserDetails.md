![[Снимок экрана 2023-02-28 082816.png]]

#spring 
#springsecurity

Сущность пользователей, в котором мы сначала наследуем от BaseEntity(в котором прописали уникальный id, чтобы каждый раз не писать). А затем имплементим интерфейс UserDetails

Далее реализвуем методы UserDetails


![[Снимок экрана 2023-02-28 083015.png]]


в методе String getUsername - возвращаем его уникальное поле в нашем случае это email. Также во всех остальных реализованных методах возвращаем true;

также возращаем коллекцию Many to Many в методе getAuthorities(

)

![[Снимок экрана 2023-02-28 083631.png]]




Можем указать @ManyToMany(fetch = FetchType.EAGER) - указываем чтобы связанные сущности грузились сразу вместе с основной сущностью

![[Снимок экрана 2023-03-03 035606.png]]